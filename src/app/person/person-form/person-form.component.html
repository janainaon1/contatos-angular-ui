<div class="container p-5">
  <div class="row">
    <div class="col-12 border border-light rounded p-5 shadow" *ngIf="form">
      <h3 class="color-main">{{ title }}</h3>
      <hr />

      <form [formGroup]="form" (ngSubmit)="onSubmit()">
        <div class="row">
          <div class="col-sm-12 col-md-6 form-group mb-1">
            <label>Nome</label>
            <input
              type="text"
              class="form-control form-control-sm text-capitalize"
              formControlName="name"
              [ngClass]="applyCssError('name')" />
            <div class="invalid-feedback" *ngIf="hasError('name')">
              Nome é obrigatório.
            </div>
            <div class="invalid-feedback" *ngIf="hasError('name', 'minlength')">
              Nome deve ter no mínimo 3 caracteres.
            </div>
            <div class="invalid-feedback" *ngIf="hasError('name', 'maxlength')">
              Nome deve ter no máximo 100 caracteres.
            </div>
          </div>

          <div class="col-sm-12 col-md-6 form-group mb-1">
            <label>Sobrenome</label>
            <input
              type="text"
              class="form-control form-control-sm text-capitalize"
              formControlName="lastName"
              [ngClass]="applyCssError('lastName')" />
            <div class="invalid-feedback" *ngIf="hasError('lastName')">
              Sobrenome é obrigatório.
            </div>
            <div class="invalid-feedback" *ngIf="hasError('name', 'minlength')">
              Sobrenome deve ter no mínimo 3 caracteres.
            </div>
            <div class="invalid-feedback" *ngIf="hasError('name', 'maxlength')">
              Sobrenome deve ter no máximo 100 caracteres.
            </div>
          </div>

          <div class="col-sm-12 col-md-6 form-group mb-1">
            <label>CPF</label>
            <input
              type="text"
              class="form-control form-control-sm"
              formControlName="cpf"
              mask="000.000.000-00"
              [ngClass]="applyCssError('cpf')" />
            <div class="invalid-feedback" *ngIf="hasError('cpf')">
              CPF é obrigatório.
            </div>
            <div class="invalid-feedback" *ngIf="hasError('cpf', 'mask')">
              CPF no formato (000.000.000-00)
            </div>
          </div>
        </div>

        <div class="form-group text-center mt-3">
          <button type="submit" class="btn btn-success">Salvar</button>
          &nbsp;
          <a class="btn btn-secondary" (click)="onCancel()"> Cancelar </a>
        </div>
      </form>
    </div>
  </div>
</div>
